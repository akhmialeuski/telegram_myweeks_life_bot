# Handler Configuration for LifeWeeksBot
# This file is the source of truth for handler configuration.
# Entry points are only used to verify class availability in installed mode.

handlers:
  - module: src.bot.handlers.start_handler
    class: StartHandler
    command: start
    callbacks: []
    text_input: handle_birth_date_input
    waiting_states:
      - start_birth_date

  - module: src.bot.handlers.weeks_handler
    class: WeeksHandler
    command: weeks
    callbacks: []

  - module: src.bot.handlers.settings.dispatcher
    class: SettingsDispatcher
    command: settings
    callbacks: []

  - module: src.bot.handlers.settings.birth_date_handler
    class: BirthDateHandler
    command: settings_birth_date
    callbacks:
      - method: handle_callback
        pattern: settings_birth_date
    text_input: handle_input
    waiting_states:
      - settings_birth_date

  - module: src.bot.handlers.settings.language_handler
    class: LanguageHandler
    command: settings_language
    callbacks:
      - method: handle_callback
        pattern: settings_language
      - method: handle_selection_callback
        pattern: language_.*

  - module: src.bot.handlers.settings.life_expectancy_handler
    class: LifeExpectancyHandler
    command: settings_life_expectancy
    callbacks:
      - method: handle_callback
        pattern: settings_life_expectancy
    text_input: handle_input
    waiting_states:
      - settings_life_expectancy

  - module: src.bot.handlers.visualize_handler
    class: VisualizeHandler
    command: visualize
    callbacks: []

  - module: src.bot.handlers.help_handler
    class: HelpHandler
    command: help
    callbacks: []

  - module: src.bot.handlers.subscription_handler
    class: SubscriptionHandler
    command: subscription
    callbacks:
      - method: handle_subscription_callback
        pattern: subscription_basic
      - method: handle_subscription_callback
        pattern: subscription_premium
      - method: handle_subscription_callback
        pattern: subscription_trial

  - module: src.bot.handlers.cancel_handler
    class: CancelHandler
    command: cancel
    callbacks: []

  - module: src.bot.handlers.unknown_handler
    class: UnknownHandler
    command: unknown
    callbacks: []
